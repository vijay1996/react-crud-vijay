(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{11:function(e,t,r){},12:function(e,t,r){},16:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),o=r(5),a=r.n(o),s=(r(11),r(12),r(13),r(0)),i=function(){return Object(s.jsx)("h1",{children:"CRUD Student Database"})},d=r(2),l=r.n(d),b=r(4),u=r(3),m="http://localhost:3030",j={textAlign:"left",color:"#777"};function p(){return(p=Object(b.a)(l.a.mark((function e(t,r,n,c){var o,a,s,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(o=new Date).toString(),e.next=4,fetch("".concat(m,"/get_record_count"),{method:"GET",headers:{"Content-Type":"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:return s=e.sent,i=s.count,e.next=11,fetch("".concat(m,"/add_student"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({admNum:i+1,name:t,age:r,phone:n,city:c,time:o})});case 11:return a=e.sent,e.next=14,a.json();case 14:"success"===(s=e.sent).action?(window.alert("Student added successfully!"),window.location.reload()):window.alert("Some error occured, please try again later");case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),r=t[0],c=t[1],o=Object(n.useState)(""),a=Object(u.a)(o,2),i=a[0],d=a[1],l=Object(n.useState)(""),b=Object(u.a)(l,2),m=b[0],h=b[1],O=Object(n.useState)(""),f=Object(u.a)(O,2),x=f[0],g=f[1];function v(){!function(e,t,r,n){p.apply(this,arguments)}(r,i,m,x)}return Object(s.jsx)("div",{style:j,children:Object(s.jsxs)("form",{children:[Object(s.jsx)("label",{children:"Name"}),Object(s.jsx)("input",{className:"form-control",type:"text",onChange:function(e){return c(e.target.value)},value:r}),Object(s.jsx)("br",{}),Object(s.jsx)("label",{children:"Age"}),Object(s.jsx)("input",{className:"form-control",type:"number",onChange:function(e){return d(e.target.value)},value:i}),Object(s.jsx)("br",{}),Object(s.jsx)("label",{children:"Phone"}),Object(s.jsx)("input",{className:"form-control",type:"text",onChange:function(e){return h(e.target.value)},value:m}),Object(s.jsx)("br",{}),Object(s.jsx)("label",{children:"City"}),Object(s.jsx)("input",{className:"form-control",type:"text",onChange:function(e){return g(e.target.value)},value:x}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{className:"form-control btn btn-primary",value:"Add Record",type:"button",onClick:function(e){return v()}})]})})};function O(){return(O=Object(b.a)(l.a.mark((function e(t,r,n,c,o,a){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:3030/update_student",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,rollnumber:r,age:n,phone:c,city:o,id:a})});case 2:return s=e.sent,e.next=5,s.json();case 5:"success"===e.sent.result?window.alert("Updated successfully"):window.alert("Some error occurred");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=function(e){var t=Object(n.useState)(e.name),r=Object(u.a)(t,2),c=r[0],o=r[1],a=Object(n.useState)(e.admNum),i=Object(u.a)(a,2),d=i[0],l=i[1],b=Object(n.useState)(e.age),m=Object(u.a)(b,2),j=m[0],p=m[1],h=Object(n.useState)(e.phone),f=Object(u.a)(h,2),x=f[0],g=f[1],v=Object(n.useState)(e.city),y=Object(u.a)(v,2),N=y[0],w=y[1],S=Object(n.useState)(e.id),C=Object(u.a)(S,2),k=C[0];C[1];return Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-sm-4 p-2",children:"Name"}),Object(s.jsx)("div",{className:"col-sm-8 p-2",children:Object(s.jsx)("input",{className:"form-control",type:"text",value:c,onChange:function(e){return o(e.target.value)}})}),Object(s.jsx)("div",{className:"col-sm-4 p-2",children:"Roll Number"}),Object(s.jsx)("div",{className:"col-sm-8 p-2",children:Object(s.jsx)("input",{className:"form-control",type:"number",value:d,onChange:function(e){return l(e.target.value)}})}),Object(s.jsx)("div",{className:"col-sm-4 p-2",children:"Age"}),Object(s.jsx)("div",{className:"col-sm-8 p-2",children:Object(s.jsx)("input",{className:"form-control",type:"number",value:j,onChange:function(e){return p(e.target.value)}})}),Object(s.jsx)("div",{className:"col-sm-4 p-2",children:"Phone Number"}),Object(s.jsx)("div",{className:"col-sm-8 p-2",children:Object(s.jsx)("input",{className:"form-control",type:"text",value:x,onChange:function(e){return g(e.target.value)}})}),Object(s.jsx)("div",{className:"col-sm-4 p-2",children:"City"}),Object(s.jsx)("div",{className:"col-sm-8 p-2",children:Object(s.jsx)("input",{className:"form-control",type:"text",value:N,onChange:function(e){return w(e.target.value)}})}),Object(s.jsx)("button",{className:"btn btn-success",style:{marginLeft:"0%",marginTop:"2%",marginRight:"2%"},onClick:function(e){return function(e,t,r,n,c,o){return O.apply(this,arguments)}(c,d,j,x,N,k)},children:"Save Changes"})," ",Object(s.jsx)("button",{className:"btn btn-primary",style:{marginLeft:"0%",marginTop:"2%"},onClick:function(e){window.location.reload()},children:"Back"})]})};function x(){fetch("".concat(g,"/get_all_students")).then((function(e){e.json().then((function(e){var t=[];a.a.render(Object(s.jsx)("div",{className:"row",id:"innerTable"}),document.getElementById("table"));var r=e.result;t.push(Object(s.jsx)("div",{className:"col-sm-3 p-2 border border-dark",children:"Roll No"})),t.push(Object(s.jsx)("div",{className:"col-sm-6 p-2 border-top border-right border-bottom border-dark",children:"Student name"})),t.push(Object(s.jsx)("div",{className:"col-sm-3 p-2 border-top border-right border-bottom border-dark",children:"Action"}));for(var n=function(e){t.push(Object(s.jsxs)("div",{className:"col-sm-3 p-1 border-left border-right border-bottom border-secondary",children:[" ",r[e].admNum," "]})),t.push(Object(s.jsxs)("div",{className:"col-sm-6 p-1 border-right border-bottom border-secondary",children:[" ",r[e].name," "]})),t.push(Object(s.jsx)("div",{className:"col-sm-1 p-1 text-primary border-right border-bottom border-secondary",role:"button",onClick:function(t){return function(e){return N.apply(this,arguments)}(r[e]._id)},children:"View"})),t.push(Object(s.jsx)("div",{className:"col-sm-1 p-1 text-warning border-right border-bottom border-secondary",role:"button",onClick:function(t){return function(e){return w.apply(this,arguments)}(r[e]._id)},children:"Update"})),t.push(Object(s.jsx)("div",{className:"col-sm-1 p-1 text-danger border-right border-bottom border-secondary",role:"button",onClick:function(t){return function(e){return y.apply(this,arguments)}(r[e]._id)},children:"Delete"}))},c=0;c<r.length;c++)n(c);a.a.render(t,document.getElementById("innerTable"))}))}))}var g="http://localhost:3030",v={textAlign:"left",padding:"2%",paddingTop:"1%",paddingLeft:"3%"};function y(){return(y=Object(b.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(g,"/delete_student"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})});case 2:return r=e.sent,e.next=5,r.json();case 5:"success"===e.sent.result?(window.alert("Student deleted successfully."),window.location.reload()):window.alert("Some error occured.");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(b.a)(l.a.mark((function e(t){var r,n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(g,"/fetch_by_id"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})});case 2:return r=e.sent,e.next=5,r.json();case 5:n=(n=e.sent).result,(c=[]).push(Object(s.jsx)("h3",{style:{marginBottom:"2%"},children:n.name})),c.push(Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-sm-4 p-2 border border-dark",children:"Roll Number"}),Object(s.jsx)("div",{className:"col-sm-8 p-2 border-top border-right border-bottom border-dark",children:n.admNum}),Object(s.jsx)("div",{className:"col-sm-4 p-2 border-left border-right border-bottom border-dark",children:"Age"}),Object(s.jsx)("div",{className:"col-sm-8 p-2 border-right border-bottom border-dark",children:n.age}),Object(s.jsx)("div",{className:"col-sm-4 p-2 border-left border-right border-bottom border-dark",children:"Phone Number"}),Object(s.jsx)("div",{className:"col-sm-8 p-2  border-right border-bottom border-dark",children:n.phone}),Object(s.jsx)("div",{className:"col-sm-4 p-2 border-left border-right border-bottom border-dark",children:"City"}),Object(s.jsx)("div",{className:"col-sm-8 p-2 border-right border-bottom border-dark",children:n.city}),Object(s.jsx)("div",{className:"col-sm-4 p-2 border-left border-right border-bottom border-dark",children:"Admission Timestamp"}),Object(s.jsx)("div",{className:"col-sm-8 p-2 border-right border-bottom border-dark",children:n.time}),Object(s.jsx)("button",{className:"btn btn-primary",style:{marginLeft:"0%",marginTop:"2%"},onClick:function(e){return x()},children:"Back"})]})),a.a.render(c,document.getElementById("table"));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(b.a)(l.a.mark((function e(t){var r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(g,"/fetch_by_id"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})});case 2:return r=e.sent,e.next=5,r.json();case 5:n=(n=e.sent).result,a.a.render(Object(s.jsx)(f,{name:n.name,admNum:n.admNum,age:n.age,phone:n.phone,city:n.city,id:t}),document.getElementById("table"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=function(){return x(),Object(s.jsx)("div",{id:"table",style:v})},C={marginTop:"5%"},k={paddingRight:"5%"},T=function(){return Object(s.jsxs)("div",{className:"row",style:C,children:[Object(s.jsx)("div",{className:"col-sm-12 col-md-8 col-lg-9",style:k,children:Object(s.jsx)(S,{})}),Object(s.jsx)("div",{className:"col-sm-12 col-md-4 col-lg-3",children:Object(s.jsx)(h,{})})]})};var _={padding:"2%"},P=function(){return Object(s.jsxs)("div",{className:"App",style:_,children:[Object(s.jsx)(i,{}),Object(s.jsx)(T,{})]})},A=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,17)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;r(e),n(e),c(e),o(e),a(e)}))};a.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(P,{})}),document.getElementById("root")),A()}},[[16,1,2]]]);
//# sourceMappingURL=main.79d5865e.chunk.js.map